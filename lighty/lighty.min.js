var lighty={init:function(e,t){var i=this,n=document.querySelectorAll(e),l=document.querySelectorAll(e+"-desc"),r=document.createElement("div");r.id=e.replace(".","")+"-wrapper",r.classList.add("lighty-wrapper");var c=document.createElement("div");c.innerHTML="<p>&times;</p>",c.classList.add("lighty-close-btn"),r.appendChild(c);var a=document.createElement("div");a.classList.add("lighty-next-btn"),a.innerHTML="<div></div>",r.appendChild(a);var o=document.createElement("div");o.classList.add("lighty-prev-btn"),o.innerHTML="<div></div>",r.appendChild(o);for(var s=0;s<n.length;s++){n[s].setAttribute("target-img",e.replace(".","")+"-image-"+s);var y=document.createElement("img");null!==n[s].getAttribute("lighty-img-src")?y.src=n[s].getAttribute("lighty-img-src"):y.src=n[s].src,y.style.userSelect="none";var d=document.createElement("div");if(d.classList.add("lighty-container"),void 0!==t&&void 0!==t[s])for(var g in t[s].container)d.style[g]=t[s].container[g];if(void 0!==t&&void 0!==t[s])for(var g in t[s].image)y.style[g]=t[s].image[g];d.appendChild(y),d.setAttribute("target",e.replace(".","")+"-image-"+s);var u=document.createElement("div");if(u.classList.add("lighty-caption"),void 0!==t&&void 0!==t[s])for(var g in t[s].description)u.style[g]=t[s].description[g];if(void 0!==t&&void 0!==t.all){for(var g in t.all.container)d.style[g]=t.all.container[g];for(var g in t.all.image)y.style[g]=t.all.image[g];for(var g in t.all.description)u.style[g]=t.all.description[g]}void 0!==l[s]?(l[s].style.display="none",u.innerHTML=l[s].innerHTML):u.innerHTML="",d.appendChild(u),r.appendChild(d),n[s].onclick=function(){this.getAttribute("target-img");var e=document.querySelector("#"+r.id);e.classList.add("active");for(var t=e.querySelectorAll(".lighty-container"),n=0;n<t.length;n++)t[n].getAttribute("target")===this.getAttribute("target-img")?t[n].classList.add("active"):t[n].classList.remove("active");r.querySelector(".lighty-next-btn").style.display="block",r.querySelector(".lighty-prev-btn").style.display="block";var l=r.querySelector(".lighty-container.active");(l.nextElementSibling&&!l.nextElementSibling.classList.contains("lighty-container")||null===l.nextElementSibling)&&(r.querySelector(".lighty-next-btn").style.display="none"),(l.previousElementSibling&&!l.previousElementSibling.classList.contains("lighty-container")||null===l.previousElementSibling)&&(r.querySelector(".lighty-prev-btn").style.display="none"),i.onOpenFunc()}}return r.querySelector(".lighty-close-btn").onclick=function(){for(var e=document.querySelectorAll(".lighty-wrapper"),t=0;t<e.length;t++)e[t].classList.remove("active");i.onCloseFunc()},window.onkeyup=function(e){27===e.which?r.querySelector(".lighty-close-btn").click():39===e.which&&document.querySelector(".lighty-wrapper.active")?"none"!==document.querySelector(".lighty-wrapper.active .lighty-next-btn").style.display&&document.querySelector(".lighty-wrapper.active .lighty-next-btn").click():37===e.which&&document.querySelector(".lighty-wrapper.active")&&"none"!==document.querySelector(".lighty-wrapper.active .lighty-prev-btn").style.display&&document.querySelector(".lighty-wrapper.active .lighty-prev-btn").click()},r.querySelector(".lighty-next-btn").onclick=function(){var e=r.querySelector(".lighty-container.active");null!==e.nextElementSibling&&e.nextElementSibling.classList.contains("lighty-container")&&(e.classList.remove("active"),e.nextElementSibling.classList.add("active"),e.nextElementSibling.classList.add("active")),r.querySelector(".lighty-next-btn").style.display="block",r.querySelector(".lighty-prev-btn").style.display="block";var t=r.querySelector(".lighty-container.active");(t.nextElementSibling&&!t.nextElementSibling.classList.contains("lighty-container")||null===t.nextElementSibling)&&(this.style.display="none")},r.querySelector(".lighty-prev-btn").onclick=function(){var e=r.querySelector(".lighty-container.active");null!==e.previousElementSibling&&e.previousElementSibling.classList.contains("lighty-container")&&(e.classList.remove("active"),e.previousElementSibling.classList.add("active")),r.querySelector(".lighty-next-btn").style.display="block",r.querySelector(".lighty-prev-btn").style.display="block";var t=r.querySelector(".lighty-container.active");(t.previousElementSibling&&!t.previousElementSibling.classList.contains("lighty-container")||null===t.previousElementSibling)&&(this.style.display="none")},document.body.appendChild(r),this},onOpen:function(e){return this.onOpenFunc=e,this},onClose:function(e){return this.onCloseFunc=e,this}};